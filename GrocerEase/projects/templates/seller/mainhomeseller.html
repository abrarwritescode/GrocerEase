<!DOCTYPE html>
{% load static %}
<html lang="en"> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	
    <title>GrocerEase | Home </title>
    <link rel="shortcut icon" type="image/png" href="{% static 'assets/assets1/img/favicon.png' %}">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">
   
   <link rel="stylesheet" href="{% static 'assets/assets1/css/main.css' %}">
	<link rel="stylesheet" href="{% static 'assets/assets1/css/all.min.css' %}">
	<link rel="stylesheet" href="{% static 'assets/assets1/css/owl.carousel.css' %}">

	<link rel="stylesheet" href="{% static 'assets/assets2/css/animate.css' %}">
	<link rel="stylesheet" href="{% static 'assets/assets2/css/style.css' %}">
	<link rel="stylesheet" href="{% static 'assets/assets2/css/ionicons.min.css' %}">
	<link rel="stylesheet" href="{% static 'assets/assets2/css/flaticon.css' %}">
	<link rel="stylesheet" href="{% static 'assets/assets2/css/icomoon.css' %}">

	<link rel="stylesheet" href="{% static 'assets/assets3/css/style.css' %}">

</head>
<style>
	/* Style the notification icon */
	.notification-icon {
		position: relative;
	}
	
	.notification-trigger {
		text-decoration: none;
		color: #333; /* Change the color as needed */
	}
	
	.notification-trigger:hover + #notifications {
		display: block;
	}
	
	/* Style the notification content */
	.notification-content {
    display: none;
    position: absolute;
    top: 100%;
    right: 0;
    width: 300px; /* Adjust the width as needed */
    max-height: 300px; /* Set a maximum height for scrolling */
    overflow-y: auto; /* Enable vertical scrolling when content exceeds max-height */
    background-color: #081b0a;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    padding: 10px;
    border: 1px solid #ddd;
    color: white;
    z-index: 1;
	}
   
	#notification-count {
		display: inline-block;
		background-color: red; /* Set your desired background color */
		color: white; /* Set the text color */
		border-radius: 50%; /* Make it a circle using border-radius */
		width: 16px; /* Set the width and height to control the size */
		height: 18px;
		position: absolute;
		text-align: center;
		line-height: 20px; /* Vertically center the text */
		margin-left: 5px; /* Add some spacing to the left of the count */
		top: 30px; /* Adjust this value to control the vertical position */
		font-size: 12px;
	}
	

  

	</style>
<body>
	 <!-- Hidden CSRF Token Form -->
	 <form id="myForm">
        {% csrf_token %}
    </form>

    
    <!-- header -->
	<div class="top-header-area" id="sticker">
		<div class="container">
			<div class="row">
				<div class="col-lg-12 col-sm-12 text-center">
					<div class="main-menu-wrap">
						
						<!-- menu start -->
						<nav class="main-menu">
							<ul>
								<li>
                                    <a href="{% url 'homeseller' seller_id=request.session.seller_id %}">Home</span></a>
								</li>

                                <li>
                                    <a href="{% url 'uploaditem' seller_id=request.session.seller_id %}">Upload Item</span></a>
								</li>

                                <li>
                                </li>

								<li>
									<div class="header-icons">
										<a class="mobile-hide search-bar-icon" href="{% url 'searchseller' seller_id=request.session.seller_id  %}"><i class="fas fa-search"></i></a> 
										<a href="#" id="view-notifications" class="notification-trigger">
											<i class="fas fa-bell"></i>
											<span id="notification-count"></span>
										</a>
                                        <a href="{% url 'logoutseller' %}"><i class="fas fa-sign-out-alt"></i></a>
                                        <a href="{% url 'sellerprofile' seller_id=request.session.seller_id %}"><i class="fas fa-user"></i></a>									

								</li>
							</ul>
                        
							
						<a class="mobile-show search-bar-icon" href="{% url 'searchseller' seller_id=request.session.seller_id %}"><i class="fas fa-search"></i></a> 
						<div class="mobile-menu"></div>
                    </nav>
					<div id="notifications" class="notification-content">
						<!-- Notifications will be displayed here -->
						
					</div>
                        

						<!-- menu end -->
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end header -->

	
<!-- home page slider -->
<div class="homepage-slider">
	<!-- single home slider -->
	<div class="single-homepage-slider homepage-bg-1">
		<div class="container">
			<div class="row">
				<div class="col-md-12 col-lg-7 offset-lg-1 offset-xl-0">
					<div class="hero-text">
						<div class="hero-text-tablecell">
							<p class="subtitle">Fresh & Organic</p>
							<h1>GrocerEase</h1>
							
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- single home slider -->
	<div class="single-homepage-slider homepage-bg-2">
		<div class="container">
			<div class="row">
				<div class="col-lg-10 offset-lg-1 text-center">
					<div class="hero-text">
						<div class="hero-text-tablecell">
							<p class="subtitle">Fresh Everyday</p>
							<h1>Varieties Of Collections</h1>
							
						</div>
					</div>
				</div>
			</div>
		</div>
	</div> 
	<!-- single home slider -->
	<div class="single-homepage-slider homepage-bg-3">
		<div class="container">
			<div class="row">
				<div class="col-lg-10 offset-lg-1 text-right">
					<div class="hero-text">
						<div class="hero-text-tablecell">
							<p class="subtitle">Get Your Daily Essentials</p>
							<h1>At Your Doorstep</h1>
							
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- end home page slider -->

    
        {% block content %}


        {% endblock content %}
   


	<!-- footer -->
	<div style="position: relative; top: 50px;" class="footer-area">
		<div class="container">
			<div class="row">
				<div class="col-lg-3 col-md-6">
					<div class="footer-box about-widget">
						<h2 class="widget-title">About us</h2>
                        <p>Your one-stop online destination for all your grocery shopping needs. We understand the importance of convenience in today's fast-paced world, and that's why we're here to simplify your shopping experience and make it as effortless as possible.</p>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="footer-box get-in-touch">
						<h2 class="widget-title">Get in Touch</h2>
						<ul>
							<li>Dhaka, Bangladesh</li>
							<li>grocereasedp1@gmail.com</li>
						</ul>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="footer-box pages">
						<h2 class="widget-title">Pages</h2>
						<ul>
							<li><a href="{% url 'homeseller' seller_id=request.session.seller_id %}">Home</a></li>
						</ul>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="footer-box subscribe">
						<h2 class="widget-title">Follow us</h2>
						<p>To get the latest updates.</p>
						
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end footer -->
	
	<script src="{% static 'assets/assets1/js/jquery-1.11.3.min.js' %}"></script>
	<script src="{% static 'assets/assets1/bootstrap/js/bootstrap.min.js' %}"></script>
	<script src="{% static 'assets/assets1/js/jquery.countdown.js' %}"></script>
	<script src="{% static 'assets/assets1/js/jquery.isotope-3.0.6.min.js' %}"></script>
	<script src="{% static 'assets/assets1/js/waypoints.js' %}"></script>
	<script src="{% static 'assets/assets1/js/owl.carousel.min.js' %}"></script>
	<script src="{% static 'assets/assets1/js/jquery.magnific-popup.min.js' %}"></script>
    <script src="{% static 'assets/assets1/js/jquery.meanmenu.min.js' %}"></script>
	<script src="{% static 'assets/assets1/js/sticker.js' %}"></script>
	<script src="{% static 'assets/assets1/js/main.js' %}"></script>

    <script src="{% static 'assets/assets2/js/jquery.min.js' %}"></script>
    <script src="{% static 'assets/assets2/js/jquery-migrate-3.0.1.min.js' %}"></script>
    <script src="{% static 'assets/assets2/js/jquery.easing.1.3.js' %}"></script>
    <script src="{% static 'assets/assets2/js/jquery.waypoints.min.js' %}"></script>
    <script src="{% static 'assets/assets2/js/jquery.stellar.min.js' %}"></script>
    <script src="{% static 'assets/assets2/js/owl.carousel.min.js' %}"></script>
    <script src="{% static 'assets/assets2/js/jquery.magnific-popup.min.js' %}"></script>
    <script src="{% static 'assets/assets2/js/aos.js' %}"></script>
    <script src="{% static 'assets/assets2/js/scrollax.min.js' %}"></script>
	<script src="{% static 'assets/assets2/js/main.js' %}"></script>


    <script src="{% static 'assets/assets3/js/jquery.slicknav.js' %}"></script>
    <script src="{% static 'assets/assets3/js/owl.carousel.min.js' %}"></script>
    <script src="{% static 'assets/assets3/js/main.js' %}"></script>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
	
		// Function to get a specific cookie value by name
		function getCookie(name) {
			let cookieValue = null;
			if (document.cookie && document.cookie !== '') {
				const cookies = document.cookie.split(';');
				for (let i = 0; i < cookies.length; i++) {
					const cookie = cookies[i].trim();
					// Does this cookie string begin with the name we want?
					if (cookie.substring(0, name.length + 1) === (name + '=')) {
						cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
						break;
					}
				}
			}
			return cookieValue;
		}

		$(document).ready(function () {
			const viewNotificationsLink = $('#view-notifications');
			const notificationsContainer = $('#notifications');
			const csrfToken = getCookie("csrftoken");
			const notificationCount = $('#notification-count');

			// Function to update the notification count
			function updateNotificationCount() {
				$.get("{% url 'getnotificationcount' seller_id=request.session.seller_id %}", function (data) {
					const count = data.count;
					notificationCount.text(count);
			
					// Only hide the count if it's zero and was previously displayed
					if (count === 0 && notificationCount.is(':visible')) {
						notificationCount.hide();
					} else if (count > 0) {
						notificationCount.show();
					}
					
				});
			}

			// Fetch and update the initial notification count
			updateNotificationCount();

			// Handle clicking on the "View Notifications" link
			viewNotificationsLink.on("click", function (event) {
				event.preventDefault();

				// Include the CSRF token in the headers
				const headers = new Headers({
					'X-CSRFToken': csrfToken
				});

				// Make an AJAX request to fetch notifications.
				$.get("{% url 'notifications' seller_id=request.session.seller_id %}", function (data) {
					notificationsContainer.html(data.notifications);
					notificationsContainer.show();
					// Mark notifications as read when the dropdown is opened
					$.post("{% url 'marknotificationsasread' seller_id=request.session.seller_id %}", { csrfmiddlewaretoken: csrfToken },
					function () {
						// Update the notification count after marking as read
						updateNotificationCount();
					});
				});
			});
		});
	</script>
	

</body>

</html>